/* Spacing */
.u-mt-0{ margin-top: var(--space-0) } .u-mb-0{ margin-bottom: var(--space-0) }
.u-mt-1{ margin-top: var(--space-1) } .u-mb-1{ margin-bottom: var(--space-1) }
.u-mt-2{ margin-top: var(--space-2) } .u-mb-2{ margin-bottom: var(--space-2) }
.u-mt-3{ margin-top: var(--space-3) } .u-mb-3{ margin-bottom: var(--space-3) }
.u-mt-4{ margin-top: var(--space-4) } .u-mb-4{ margin-bottom: var(--space-4) }
.u-mt-6{ margin-top: var(--space-6) } .u-mb-6{ margin-bottom: var(--space-6) }
.u-mt-8{ margin-top: var(--space-8) } .u-mb-8{ margin-bottom: var(--space-8) }

/* Text helpers */
.u-hint{ font-size: var(--fs-sm); color: var(--color-text-muted) }

/* Layout helpers */
.u-stack-sm > * + * { margin-top: var(--space-2) }
.u-stack-md > * + * { margin-top: var(--space-4) }
.u-stack-lg > * + * { margin-top: var(--space-6) }

/* Misc */
.u-center{ display:grid; place-items:center }
.u-right{ margin-left: auto }


/* Flex helpers */
.u-flex{ display:flex }
.u-flex-col{ display:flex; flex-direction: column }
.u-gap-1{ gap: var(--space-1) }
.u-gap-2{ gap: var(--space-2) }
.u-gap-3{ gap: var(--space-3) }
.u-gap-4{ gap: var(--space-4) }


/* Axis spacing */
.u-my-1{ margin-top: var(--space-1); margin-bottom: var(--space-1) }
.u-my-2{ margin-top: var(--space-2); margin-bottom: var(--space-2) }
.u-mx-auto{ margin-left:auto; margin-right:auto }

/* Padding */
.u-py-2{ padding-top: var(--space-2); padding-bottom: var(--space-2) }

/* Flex alignment */
.u-items-start{ align-items: flex-start }
.u-items-center{ align-items: center }
.u-justify-between{ justify-content: space-between }
.u-flex-1{ flex:1 }
.u-min-w-0{ min-width:0 }

/* Borders */
.u-border-b{ border-bottom:1px solid var(--color-border) }

/* Backgrounds */
.u-bg-dim{ background:#161616 }
.u-bg-surface{ background: var(--color-surface) }

/* Typography */
.u-fw-600{ font-weight:600 }
.u-fw-700{ font-weight:700 }

/* Lists */
.u-list-reset{ list-style:none; padding:0; margin:0 }

/* Pre-wrap + break */
.u-prewrap{ white-space: pre-wrap; word-wrap: break-word }



.u-flex-none{ flex: none }
.u-overflow-auto{ overflow:auto }
.u-flex-col-reverse{ display:flex; flex-direction: column-reverse }
.u-maxw-420{ max-width:420px }

.u-vh80{height: 80vh}

.u-ml-2{ margin-left: var(--space-2) }

/* 0) もし以前に overflow-x: hidden/clip や text-overflow: ellipsis を入れた場合は打ち消す */
.nav,
.nav-inner,
.nav .u-flex {
  overflow-x: visible;          /* ← 横は隠さない */
}
.nav .u-flex > .link,
.nav .u-flex > a,
.nav .u-flex > button {
  text-overflow: clip;          /* ← …にしない */
  overflow: visible;            /* ← テキストを隠さない */
}

/* 1) トップ行は1行固定（リンクは折り返さない） */
.nav-inner,
.nav .u-flex {
  display: flex;
  flex-wrap: nowrap;            /* ← 1行固定 */
}

/* 2) Brand は2行OK & 幅を取りすぎない。中身の改行を許可 */
.nav .brand {
  flex: 0 1 40%;                /* ← 取りうる最大幅の目安（お好みで 35〜45%） */
  max-inline-size: 40%;
  white-space: normal;          /* ← 中のテキストは折り返し可 */
  overflow-wrap: anywhere;      /* ← 長い単語でも適宜改行 */
  line-height: 1.15;
  min-inline-size: 0;
}

/* 3) 右側リンク群は残り幅を引き受け、隙間・余白・文字サイズを自動で“締める” */
.nav .u-flex {
  flex: 1 1 auto;
  min-inline-size: 0;                 /* ← 内部要素の縮小を許可（重要） */
  justify-content: flex-end;
  gap: clamp(2px, 1vw, 12px);         /* ← 画面が狭いほどギャップ縮小 */
}

/* 4) 各リンク：折り返さず（nowrap）、等分寄りに配置。
      省略はしない／文字が入らない場合はフォント・パディングをさらに縮小 */
.nav .u-flex > .link,
.nav .u-flex > a,
.nav .u-flex > button {
  flex: 0 1 auto;                    /* ← 内容幅ベースで縮む。必要なら 1 1 auto にして等分気味に */
  min-inline-size: 0;                /* ← “最小内容幅”の壁を外す（超重要） */
  white-space: nowrap;               /* ← 折り返さない＝1行維持 */
  padding: clamp(4px, 1.2vw, 10px) clamp(6px, 2vw, 14px);
  font-size: clamp(11px, 1.8vw, 14px);  /* ← 画面が狭いほど文字を縮小（省略なしで収める要） */
  line-height: 1.1;
  box-sizing: border-box;
}

/* 5) さらに狭い超小型端末（例: ≤360px）での最小値を下げる保険 */
@media (max-width: 360px) {
  .nav .u-flex { gap: 2px; }
  .nav .u-flex > .link,
  .nav .u-flex > a,
  .nav .u-flex > button {
    font-size: 10px;                 /* ← 必要なら 9px まで可（可読性と相談） */
    padding-inline: 6px;
  }
}
